<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rock Paper Scissors</title>
</head>

<body>
    
    <script>
        let computerChoice = ""; //create empty strings to be defined below
        let playerInput = "";
        let lowerInput = "";
        let matchResults = "";
        let invalid = "";
        let playerScore = 0;
        let computerScore = 0;

        let computerInput = Math.floor(Math.random() * 3); //randomize 0-2 (not including 3)

        if (computerInput == 0) { //assign randomly generated number a value of rock, paper, or scissor
            computerChoice = "rock";
        } else if (computerInput == 1) {
            computerChoice = "paper"; 
        } else {
            computerChoice = "scissors";
        }

        for (i=0; i<5; i++) {
            playerInput = prompt("Please enter your choice of: Rock, Paper, or Scissors");
            lowerInput = playerInput.toLowerCase();
            matchResults = "Your selection: " + lowerInput + " | Computer's selection: " + computerChoice;

            if (lowerInput != "rock" && lowerInput != "paper" && lowerInput != "scissors") { //check for valid input
                alert("Please enter a valid choice");
                i--; //decrementing i to net out the increment. Keeps prompting user when the if statement is true
                invalid = 1; //for use in loop below to separate scenario of invalid strings versus computer
            }

            if (lowerInput == computerChoice) { //generate match results (tie/win else lose)
                alert("It's a tie! " + matchResults);
            } else if (lowerInput == "rock" && computerChoice == "scissors") {
                alert("You've won! " + matchResults);
                playerScore++;
            } else if (lowerInput == "paper" && computerChoice == "rock") {
                alert("You've won! " + matchResults);
                playerScore++;
            } else if (lowerInput == "scissors" && computerChoice == "paper") {
                alert("You've won! " + matchResults);
                playerScore++;
            } else if (invalid == 1) { //invalid strings will still step through to the else statement without this extra conditional
                alert("Your match will begin once you select Rock, Paper, or Scissors!")
            } else {
                alert("You've lost... " + matchResults);
                computerScore++;
            }
            console.log("Player's score " + playerScore);
            console.log("Computer's score " + computerScore);
        }

        if (playerScore > computerScore) { //display the results of the match
            alert("Congratulations, you've won! The score is " + playerScore + " to " + computerScore);
        } else if (playerScore == computerScore) {
            alert("It's a tie at " + playerScore + " each!");
        } else {
            alert("You lost...");
        }

    </script>

</body>
</html>