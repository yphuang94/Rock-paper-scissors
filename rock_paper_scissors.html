<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css"/>
    <title>Rock Paper Scissors</title>
</head>

<body>
    <div class="main-container">
        <div class="button-container">
            <button id="rock" value="Rock" button onclick="playGame(this)">Rock</button>
            <button id="paper" value="Paper" button onclick="playGame(this)">Paper</button>
            <button id="scissor" value="Scissor" button onclick="playGame(this)">Scissor</button> <!-- "this" passes the element's properties -->
        </div>
        <div class="results-container">
            <div id="results">Match Results: Best of 5 Wins!</div>
        </div>
    </div>

    <script>
        let playerScore = 0;
        let computerScore = 0;
        let gamesPlayed = 0;

       function getCompInput() { 
            let randomNum = Math.floor(Math.random() * 3); 
            if (randomNum == 0) { 
                compSelection = "Rock";
            } else if (randomNum == 1) {
                compSelection = "Paper";
            } else {
                compSelection = "Scissor";
            }
            return compSelection;
        }

        function playGame (buttonObject) {
            let userSelection = buttonObject.value; //get dynamic value of button
            let compSelection = getCompInput(); //invoke computer's selection
            let gameResult = ""; //pass into HTML element

            if (userSelection == compSelection) {
                gameResult = `This is a tie! You both chose ${userSelection}`;
                gamesPlayed++;
            } else if (userSelection == "Paper" && compSelection == "Rock") {
                gameResult = `You won! You selected: ${userSelection} | Computer Selected: ${compSelection}`;
                playerScore++;
                gamesPlayed++;
            } else if (userSelection == "Rock" && compSelection == "Scissor") {
                gameResult = `You won! You selected: ${userSelection} | Computer Selected: ${compSelection}`;
                playerScore++;
                gamesPlayed++;
            } else if (userSelection == "Scissor" && compSelection == "Paper") {
                gameResult = `You won! You selected: ${userSelection} | Computer Selected: ${compSelection}`;
                playerScore++;
                gamesPlayed++;
            } else {
                gameResult = `You lost...You selected: ${userSelection} | Computer Selected: ${compSelection}`;
                computerScore++;
                gamesPlayed++;
            }

            if (gamesPlayed == 5) {
                if (playerScore > computerScore) {
                    alert(`You won the match! Your Score: ${playerScore} | Computer's score: ${computerScore}`);
                    gamesPlayed = 0; //reset game count and player/computer scores
                    playerScore = 0; 
                    computerScore = 0;
                } else {
                    alert(`You lost the match...Your Score: ${playerScore} | Computer's score: ${computerScore}`);
                    gamesPlayed = 0; 
                    playerScore = 0;
                    computerScore = 0;
                }
            }

            document.getElementById("results").innerHTML = gameResult; //updating HTML container
        }  
       


    </script>

</body>
</html>